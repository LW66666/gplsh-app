<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>我的资料修改的frame</title>
    <link rel="stylesheet" type="text/css" href="../../../../css/api.css"/>
    <link rel="stylesheet" type="text/css" href="../../../../css/aui.css"/>
    <style>
        body, html {
            background-color: #ffffff;
            font-size: 20px;
        }

        .font {
            font-size: .75rem;
        }

        .aui-list {
            margin-top: 10px;
            box-shadow: 0 -10px #f6f6f6;
        }

        .aui-list > .aui-list-item {
            position: relative;
            width: 100%;
            padding-left: 20px !important;
            margin: 0;
            height: 49px;
            box-sizing: border-box;
            background-position: bottom !important;
        }

        .aui-list .aui-list-item-inner {
            padding-right: 1.5rem;
        }

        .aui-list .aui-list-item.bui-item {
            background-color: #ffffff;
        }

        .aui-list-item-arrow .aui-pull-left {
            width: 100%;
        }

        .aui-pull-left {
            display: flex;
            width: 100%;
        }

        .aui-pull-left label {
            height: 49px;
            line-height: 49px;
            flex: 3;
        }

        .aui-pull-left input {
            height: 49px;
            line-height: 49px;
            flex: 7;
            color: #6d6c6c;
            font-size: 0.75rem;
        }

        .aui-pull-left span {
            display: flex;
            justify-content: left;
            align-items: center;
            flex: 7;
            font-size: .75rem;
        }

        .aui-pull-left input:focus {
            color: #000000;
        }

        .aui-pull-left .text-black {
            color: black;
        }
    </style>
</head>

<body>

<ul class="aui-list">
    <li class="aui-list-item bui-item">
        <div class="aui-list-item-inner font">
            <div class="aui-pull-left">
                <label for="nickname">昵称</label>
                <input id="nickname" type="text" value="狗子"/>
            </div>
        </div>
    </li>
    <li class="aui-list-item" tapmode onclick="clickGender(this)">
        <div class="aui-list-item-inner font">
            <div class="aui-pull-left">
                <label for="gender">性别</label>
                <input id="gender" disabled="disabled" type="text" value="未知"/>
            </div>
        </div>
    </li>
    <li class="aui-list-item" tapmode onclick="clickBloodType(this)">
        <div class="aui-list-item-inner font">
            <div class="aui-pull-left">
                <label for="bloodType">血型</label>
                <input id="bloodType" disabled="disabled" type="text" value="A"/>
            </div>
        </div>
    </li>
    <li class="aui-list-item" tapmode onclick="clickBirthday(this)">
        <div class="aui-list-item-inner font">
            <div class="aui-pull-left">
                <label for="birthday">生日</label>
                <input id="birthday" disabled="disabled" type="text" value="2022-12-22"/>
            </div>
        </div>
    </li>
    <li class="aui-list-item bui-item">
        <div class="aui-list-item-inner font">
            <div class="aui-pull-left">
                <label for="constellation">星座</label>
                <input id="constellation" disabled="disabled" type="text" value="疯子坐"/>
            </div>
        </div>
    </li>
    <li class="aui-list-item bui-item">
        <div class="aui-list-item-inner font">
            <div class="aui-pull-left">
                <label for="region">地区</label>
                <input id="region" class="text-black" disabled="disabled" type="text" value="江西南昌"/>
            </div>
        </div>
    </li>
</ul>

<ul class="aui-list">
    <li class="aui-list-item">
        <div class="aui-list-item-inner font">
            <div class="aui-pull-left">
                <label for="occupation">职业</label>
                <input id="occupation" type="text" value="铲屎官"/>
            </div>
        </div>
    </li>
    <li class="aui-list-item bui-item">
        <div class="aui-list-item-inner font">
            <div class="aui-pull-left">
                <label for="identity">小区身份</label>
                <input class="text-black" id="identity" disabled="disabled" type="text" value="普通用户"/>
            </div>
        </div>
    </li>
    <li class="aui-list-item bui-item">
        <div class="aui-list-item-inner font">
            <div class="aui-pull-left">
                <label>小区坐标</label>
                <span>
                    光明小区-1期-北区-2栋-2单元-1202
                </span>
            </div>
        </div>
    </li>
</ul>

<ul class="aui-list">
    <li class="aui-list-item">
        <div class="aui-list-item-inner font">
            <div class="aui-pull-left">
                <label for="autograph">签名</label>
                <input id="autograph" type="text" placeholder="悄悄的我来了，什么也没留下！" value=""/>
            </div>
        </div>
    </li>

    <li class="aui-list-item" tapmode onclick="clickTag()">
        <div class="aui-list-item-inner aui-list-item-arrow font">
            <div class="aui-pull-left">
                <label for="tag">标签</label>
                <input id="tag" disabled="disabled" type="text" placeholder="白富美、高富帅、有为青年、完美主义" value=""/>
            </div>
        </div>
    </li>
</ul>

</body>

</html>
<script type="text/javascript" src="../../../../script/api.js"></script>
<script>
    var slidingList;

    apiready = function () {
        slidingList = api.require('slidingList');
    };

    /**
     * 选择性别
     */
    function clickGender($this) {
        var $input = $api.dom($this, '#gender');
        slidingList.showList({
            rightbtn: '确定',
            leftbtn: '取消',
            item_height: '10',
            item_num: '2',
            data: [{content: '女'}, {content: '男'}, {content: '女'}, {content: '男'}]
        }, function (ret, err) {
            if (ret && ret.select_item) {
                $input.value = ret.select_item;
            }
        });
    }

    /**
     * 点击选择血型
     */
    function clickBloodType($this) {
        var $input = $api.dom($this, '#bloodType');
        slidingList.showList({
            rightbtn: '确定',
            leftbtn: '取消',
            item_height: '130',
            item_num: '4',
            data: [{content: 'A'}, {content: 'B'}, {content: 'AB'}, {content: 'O'}, {content: '其它'}]
        }, function (ret, err) {
            if (ret && ret.select_item) {
                $input.value = ret.select_item;
            }
        });
    }

    /**
     * 点击选择血型
     */
    function clickBirthday($this) {
        var $input = $api.dom($this, '#birthday');
        var d = new Date();
        var now = [d.getFullYear, d.getMonth + 1, d.getDate];
        api.openPicker({
            type: 'date',
            date: $input.value || now.join('-'),
            title: '请选择日期'
        }, function (ret, err) {
            if (ret) {
                var $constellation = $api.dom('#constellation');
                var m = ret.month;
                var d = ret.day;
                var dateArr = [
                    ret.year,
                    m > 9 ? m : '0' + m,
                    d > 9 ? d : '0' + d
                ];
                $input.value = dateArr.join('-');
                $constellation.value = getConstellation(m, d);
            }
        });
    }

    /**
     * 月日获取星座
     */
    function getConstellation(m, d) {
        var s = "魔羯水瓶双鱼牡羊金牛双子巨蟹狮子处女天秤天蝎射手魔羯";
        var arr = [20, 19, 21, 21, 21, 22, 23, 23, 23, 23, 22, 22];
        return s.substr(m * 2 - (d < arr[m - 1] ? 2 : 0), 2);
    }

    /**
     * 点击选择标签
     */
    function clickTag() {
        api.openWin({
            name:'selectTagWin',
            url:''
        })
    }
</script>